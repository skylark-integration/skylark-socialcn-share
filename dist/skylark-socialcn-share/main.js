/**
 * skylark-socialcn-share - The skylark social share(cn) library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-jquery-qrcode/QRCode"],function(e){var t=Array.prototype.indexOf,i=Object.assign,n=/MicroMessenger/i.test(navigator.userAgent),r=document.documentElement.clientWidth<=768,a=(document.images[0]||0).src||"",o=h("site")||h("Site")||document.title,c=h("title")||h("Title")||document.title,s=h("description")||h("Description")||"",l={url:location.href,origin:location.origin,source:o,title:c,description:s,image:a,imageSelector:void 0,weiboKey:"",wechatQrcodeTitle:"微信扫一扫：分享",wechatQrcodeHelper:"<p>微信里点“发现”，扫一下</p><p>二维码便可将本文分享至朋友圈。</p>",wechatQrcodeSize:100,sites:["weibo","qq","wechat","tencent","douban","qzone","linkedin","diandian","facebook","twitter","google"],mobileSites:[],disabled:["google","facebook","twitter","diandian"],initialized:!1},u={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{URL}}&title={{TITLE}}&desc={{DESCRIPTION}}&summary={{SUMMARY}}&site={{SOURCE}}",qq:'http://connect.qq.com/widget/shareqq/index.html?url={{URL}}&title={{TITLE}}&source={{SOURCE}}&desc={{DESCRIPTION}}&pics={{IMAGE}}&summary="{{SUMMARY}}"',tencent:"http://share.v.t.qq.com/index.php?c=share&a=index&title={{TITLE}}&url={{URL}}&pic={{IMAGE}}",weibo:"https://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}&appkey={{WEIBOKEY}}",wechat:"javascript:",douban:"http://shuo.douban.com/!service/share?href={{URL}}&name={{TITLE}}&text={{DESCRIPTION}}&image={{IMAGE}}&starid=0&aid=0&style=11",diandian:"http://www.diandian.com/share?lo={{URL}}&ti={{TITLE}}&type=link",linkedin:"http://www.linkedin.com/shareArticle?mini=true&ro=true&title={{TITLE}}&url={{URL}}&summary={{SUMMARY}}&source={{SOURCE}}&armin=armin",facebook:"https://www.facebook.com/sharer/sharer.php?u={{URL}}",twitter:"https://twitter.com/intent/tweet?text={{TITLE}}&url={{URL}}&via={{ORIGIN}}",google:"https://plus.google.com/share?url={{URL}}"};function d(e){return(document.querySelectorAll||window.jQuery||window.Zepto||function(e){var t=[];return m(e.split(/\s*,\s*/),function(i){var n=i.match(/([#.])(\w+)/);if(null===n)throw Error("Supports only simple single #ID or .CLASS selector.");if(n[1]){var r=document.getElementById(n[2]);r&&t.push(r)}t=t.concat(p(e))}),t}).call(document,e)}function h(e){return(document.getElementsByName(e)[0]||0).content}function p(e,t,i){if(e.getElementsByClassName)return e.getElementsByClassName(t);var n=[],r=e.getElementsByTagName(i||"*");return t=" "+t+" ",m(r,function(e){(" "+(e.className||"")+" ").indexOf(t)>=0&&n.push(e)}),n}function f(e){var t=$("<div>").html(e);return $(t[0].firstChild)}function m(e,t){var i=e.length;if(void 0===i){for(var n in e)if(e.hasOwnProperty(n)&&!1===t.call(e[n],e[n],n))break}else for(var r=0;r<i&&!1!==t.call(e[r],e[r],r);r++);}return function(a,o){void 0===(a="string"==typeof a?d(a):a).length&&(a=[a]),m(a,function(a){a.initialized||function(a,o){var c=function(){var e=arguments;if(i)return i.apply(null,e);var t={};return m(e,function(e){m(e,function(e,i){t[i]=e})}),e[0]=t}({},l,o||{},function(e){if(e.dataset)return JSON.parse(JSON.stringify(e.dataset));var t={};return e.hasAttributes()?(m(e.attributes,function(e){var i=e.name;if(0!==i.indexOf("data-"))return!0;i=i.replace(/^data-/i,"").replace(/-(\w)/g,function(e,t){return t.toUpperCase()}),t[i]=e.value}),t):{}}(a));c.imageSelector&&(c.image=d(c.imageSelector).map(function(e){return e.src}).join("||")),function(e,t){if(t&&"string"==typeof t){var i=(e.className+" "+t).split(/\s+/),n=" ";m(i,function(e){n.indexOf(" "+e+" ")<0&&(n+=e+" ")}),e.className=n.slice(1,-1)}}(a,"share-component social-share"),function(e,i){var a=function(e){e.mobileSites.length||(e.mobileSites=e.sites);var i=(r?e.mobileSites:e.sites).slice(0),a=e.disabled;return"string"==typeof i&&(i=i.split(/\s*,\s*/)),"string"==typeof a&&(a=a.split(/\s*,\s*/)),n&&a.push("wechat"),a.length&&m(a,function(e){i.splice(function(e,i,n){var r;if(i){if(t)return t.call(i,e,n);for(r=i.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in i&&i[n]===e)return n}return-1}(e,i),1)}),i}(i),o="prepend"==i.mode;m(o?a.reverse():a,function(t){var n=function(e,t){return t.summary||(t.summary=t.description),u[e].replace(/\{\{(\w)(\w*)\}\}/g,function(i,n,r){var a=e+n+r.toLowerCase();return r=(n+r).toLowerCase(),encodeURIComponent((void 0===t[a]?t[r]:t[a])||"")})}(t,i),r=i.initialized?p(e,"icon-"+t):f('<a class="social-share-icon icon-'+t+'"></a>');if(!r.length)return!0;r[0].href=n,"wechat"===t?r[0].tabindex=-1:r[0].target="_blank",i.initialized||(o?e.insertBefore(r[0],e.firstChild):e.appendChild(r[0]))})}(a,c),function(t,i){var n=p(t,"icon-wechat","a");if(0===n.length)return!1;var r=f('<div class="wechat-qrcode"><h4>'+i.wechatQrcodeTitle+'</h4><div class="qrcode"></div><div class="help">'+i.wechatQrcodeHelper+"</div></div>"),a=$(r[0]).find(".qrcode");n[0].appendChild(r[0]),new e(a[0],{text:i.url,width:i.wechatQrcodeSize,height:i.wechatQrcodeSize})}(a,c),a.initialized=!0}(a,o)})}});
//# sourceMappingURL=sourcemaps/main.js.map
