/**
 * skylark-socialcn-share - The skylark social share(cn) library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(e,t){var i=t.define,require=t.require,r="function"==typeof i&&i.amd,n=!r&&"undefined"!=typeof exports;if(!r&&!i){var o={};i=t.define=function(e,t,i){"function"==typeof i?(o[e]={factory:i,deps:t.map(function(t){return function(e,t){if("."!==e[0])return e;var i=t.split("/"),r=e.split("/");i.pop();for(var n=0;n<r.length;n++)"."!=r[n]&&(".."==r[n]?i.pop():i.push(r[n]));return i.join("/")}(t,e)}),resolved:!1,exports:null},require(e)):o[e]={factory:null,resolved:!0,exports:i}},require=t.require=function(e){if(!o.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var module=o[e];if(!module.resolved){var i=[];module.deps.forEach(function(e){i.push(require(e))}),module.exports=module.factory.apply(t,i)||null,module.resolved=!0}return module.exports}}if(!i)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(e,require){e("skylark-socialcn-share/main",["skylark-jquery-qrcode/QRCode"],function(e){var t=Array.prototype.indexOf,i=Object.assign,r=/MicroMessenger/i.test(navigator.userAgent),n=document.documentElement.clientWidth<=768,o=(document.images[0]||0).src||"",a=m("site")||m("Site")||document.title,s=m("title")||m("Title")||document.title,c=m("description")||m("Description")||"",l={url:location.href,origin:location.origin,source:a,title:s,description:c,image:o,imageSelector:void 0,weiboKey:"",wechatQrcodeTitle:"微信扫一扫：分享",wechatQrcodeHelper:"<p>微信里点“发现”，扫一下</p><p>二维码便可将本文分享至朋友圈。</p>",wechatQrcodeSize:100,sites:["weibo","qq","wechat","tencent","douban","qzone","linkedin","diandian","facebook","twitter","google"],mobileSites:[],disabled:["google","facebook","twitter","diandian"],initialized:!1},u={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{URL}}&title={{TITLE}}&desc={{DESCRIPTION}}&summary={{SUMMARY}}&site={{SOURCE}}",qq:'http://connect.qq.com/widget/shareqq/index.html?url={{URL}}&title={{TITLE}}&source={{SOURCE}}&desc={{DESCRIPTION}}&pics={{IMAGE}}&summary="{{SUMMARY}}"',tencent:"http://share.v.t.qq.com/index.php?c=share&a=index&title={{TITLE}}&url={{URL}}&pic={{IMAGE}}",weibo:"https://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}&appkey={{WEIBOKEY}}",wechat:"javascript:",douban:"http://shuo.douban.com/!service/share?href={{URL}}&name={{TITLE}}&text={{DESCRIPTION}}&image={{IMAGE}}&starid=0&aid=0&style=11",diandian:"http://www.diandian.com/share?lo={{URL}}&ti={{TITLE}}&type=link",linkedin:"http://www.linkedin.com/shareArticle?mini=true&ro=true&title={{TITLE}}&url={{URL}}&summary={{SUMMARY}}&source={{SOURCE}}&armin=armin",facebook:"https://www.facebook.com/sharer/sharer.php?u={{URL}}",twitter:"https://twitter.com/intent/tweet?text={{TITLE}}&url={{URL}}&via={{ORIGIN}}",google:"https://plus.google.com/share?url={{URL}}"};function d(t,r){var n=function(){var e=arguments;if(i)return i.apply(null,e);var t={};return g(e,function(e){g(e,function(e,i){t[i]=e})}),e[0]=t}({},l,r||{},function(e){if(e.dataset)return JSON.parse(JSON.stringify(e.dataset));var t={};if(e.hasAttributes())return g(e.attributes,function(e){var i=e.name;if(0!==i.indexOf("data-"))return!0;i=i.replace(/^data-/i,"").replace(/-(\w)/g,function(e,t){return t.toUpperCase()}),t[i]=e.value}),t;return{}}(t));n.imageSelector&&(n.image=h(n.imageSelector).map(function(e){return e.src}).join("||")),function(e,t){if(t&&"string"==typeof t){var i=(e.className+" "+t).split(/\s+/),r=" ";g(i,function(e){r.indexOf(" "+e+" ")<0&&(r+=e+" ")}),e.className=r.slice(1,-1)}}(t,"share-component social-share"),f(t,n),function(t,i){var r=v(t,"icon-wechat","a");if(0===r.length)return!1;var n=w('<div class="wechat-qrcode"><h4>'+i.wechatQrcodeTitle+'</h4><div class="qrcode"></div><div class="help">'+i.wechatQrcodeHelper+"</div></div>"),o=$(n[0]).find(".qrcode");r[0].appendChild(n[0]),new e(o[0],{text:i.url,width:i.wechatQrcodeSize,height:i.wechatQrcodeSize})}(t,n),t.initialized=!0}function f(e,t){var i=p(t),r="prepend"==t.mode;g(r?i.reverse():i,function(i){var n=function(e,t){t.summary||(t.summary=t.description);return u[e].replace(/\{\{(\w)(\w*)\}\}/g,function(i,r,n){var o=e+r+n.toLowerCase();return n=(r+n).toLowerCase(),encodeURIComponent((void 0===t[o]?t[n]:t[o])||"")})}(i,t),o=t.initialized?v(e,"icon-"+i):w('<a class="social-share-icon icon-'+i+'"></a>');if(!o.length)return!0;o[0].href=n,"wechat"===i?o[0].tabindex=-1:o[0].target="_blank",t.initialized||(r?e.insertBefore(o[0],e.firstChild):e.appendChild(o[0]))})}function p(e){e.mobileSites.length||(e.mobileSites=e.sites);var i=(n?e.mobileSites:e.sites).slice(0),o=e.disabled;return"string"==typeof i&&(i=i.split(/\s*,\s*/)),"string"==typeof o&&(o=o.split(/\s*,\s*/)),r&&o.push("wechat"),o.length&&g(o,function(e){i.splice(function(e,i,r){var n;if(i){if(t)return t.call(i,e,r);for(n=i.length,r=r?r<0?Math.max(0,n+r):r:0;r<n;r++)if(r in i&&i[r]===e)return r}return-1}(e,i),1)}),i}function h(e){return(document.querySelectorAll||window.jQuery||window.Zepto||function(e){var t=[];return g(e.split(/\s*,\s*/),function(i){var r=i.match(/([#.])(\w+)/);if(null===r)throw Error("Supports only simple single #ID or .CLASS selector.");if(r[1]){var n=document.getElementById(r[2]);n&&t.push(n)}t=t.concat(v(e))}),t}).call(document,e)}function m(e){return(document.getElementsByName(e)[0]||0).content}function v(e,t,i){if(e.getElementsByClassName)return e.getElementsByClassName(t);var r=[],n=e.getElementsByTagName(i||"*");return t=" "+t+" ",g(n,function(e){(" "+(e.className||"")+" ").indexOf(t)>=0&&r.push(e)}),r}function w(e){var t=$("<div>").html(e);return $(t[0].firstChild)}function g(e,t){var i=e.length;if(void 0===i){for(var r in e)if(e.hasOwnProperty(r)&&!1===t.call(e[r],e[r],r))break}else for(var n=0;n<i&&!1!==t.call(e[n],e[n],n);n++);}return function(e,t){void 0===(e="string"==typeof e?h(e):e).length&&(e=[e]);g(e,function(e){e.initialized||d(e,t)})}}),e("skylark-socialcn-share",["skylark-socialcn-share/main"],function(e){return e})}(i),!r){var a=require("skylark-langx-ns");n?module.exports=a:t.skylarkjs=a}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-socialcn-share.js.map
